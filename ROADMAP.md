## Roadmap & Progress

- 基础工程
  - [x] 仓库初始化、LICENSE、.gitignore
  - [x] CI 构建（server）
  - [x] 服务端 TypeScript 工程、构建脚本

- 网络与协议
  - [x] WebSocket 连接/断开
  - [x] 消息：hello / ping/pong / move / pickup / attack / hit / snapshot / useItem / assignSlot / useSlot / rooms / createRoom / joinRoom / spectate / cast
  - [x] 输入节流与速率限制（move 约30/s，攻击基于冷却）
  - [ ] 断线重连/重入

- 世界与地图
  - [x] 圆形安全圈，按配置缩圈
  - [x] 圈外持续伤害
  - [x] 世界循环 tick=20Hz，周期快照广播
  - [x] 五行地形分区与区域元素判定（zoneElement 注入）
  - [x] 边界约束（地图坐标夹取）
  - [ ] 出生点分布优化

- 移动
  - [x] 基础移动（vx, vy）
  - [x] 敏捷→移速映射（agiMoveCoef）
  - [x] 加速状态（神行鞋）
  - [ ] 敏捷→前摇映射（agiCastCoef）

- 战斗与数值
  - [x] 伤害：元素倍率/暴击/防御Kdef
  - [x] 命中与闪避（敏捷差与闪避率参与、命中上下限）
  - [x] 区域增益/被克减益（zoneElement 参与计算）
  - [x] 动态攻击冷却（敏捷→攻速；aspdCap/agiAspdCoef）
  - [x] 技能系统（前摇/冷却/敏捷缩短前摇）

- 成长与物品
  - [x] 地面水果与道具刷新
  - [x] 拾取生效：同元素递减与上限；非本命二级属性加成与上限
  - [x] 道具冷却（onUse 触发）
  - [x] 背包+槽位（assignSlot/useSlot）与使用去抖
  - [x] 新道具：疗愈丹（即时回血）
  - [ ] 道具更多类型与交互（投掷物、陷阱、位移）

- 角色与平衡
  - [x] 角色差异化初始面板（基于配置随机抽取）
  - [ ] 上限控制（暴击/闪避等 caps）与AB调参脚手架

- 怪物与掉落
  - [x] 定时刷怪
  - [x] 怪物AI（寻敌、移动、攻击）
  - [x] 玩家对怪物的攻击与技能伤害
  - [x] 击杀掉落水果与道具

- 房间与观战
  - [x] 房间创建/加入，容量限制
  - [x] 房间列表
  - [x] 观战模式
  - [ ] 匹配逻辑（开局、结算）

- 同步与反作弊
  - [x] 服务器权威+快照广播
  - [ ] 客户端预测与插值（需客户端）
  - [ ] 速度上限、签名校验、重入校验

- 数据与配置
  - [x] 数据驱动：元素矩阵/水果/道具/技能/平衡参数
  - [ ] 配置热更新/版本化
  - [ ] 角色表全量与 DLC 角色接入

- 工具链与部署
  - [x] CI 构建
  - [x] Dockerfile/容器化部署
  - [ ] 环境变量与监控

- 文档与演示
  - [x] 根 README 设计文档
  - [x] server README
  - [ ] 最小可玩客户端 Demo（网页/命令行）

优先排期（按你的要求）
- [x] 角色差异化初始面板（龙生九子）
- [x] 元素水果的完整二级属性加成与上限、同元素递减
- [x] 区域元素判定与同区增益/被克减益
- [x] 更多道具与冷却、状态同步与去抖（已接冷却与onUse、bag/slot）
- [x] 房间匹配/观战（基础房间与观战已接，匹配与结算待做）、部署脚本
- [ ] 持久化（战绩/遥测/AB 配置）